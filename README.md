![Приложение Python](https://github.com/sergeynikol/CMS_django.git)

# быстрый запуск CMS django

Докеризованный проект django CMS, готовый к развертыванию на [Divio](https://www.divio.com/) или другой облачной платформе на основе Docker, и запуск локально в Docker на вашем собственном компьютере.

В этой версии используется работающий Python 3.9 и самые последние версии Django 3.2 и django CMS 3.11.

Этот проект одобрен [Ассоциацией django CMS] (https://www.django-cms.org/en/about-us/). Это означает, что он официально принят DCA как соответствующий нашему видению дорожной карты и политике разработки/плагинов. Присоединяйтесь к нам в [Slack](https://www.django-cms.org/slack/) для получения дополнительной информации или вопросов.

## Монтаж

Для запуска этого проекта в вашей системе должен быть установлен докер.

- [Установить Docker](https://docs.docker.com/engine/install/) здесь.
- Если вы раньше не использовали докер, прочтите это [введение в докер](https://docs.docker.com/get-started/) здесь.

## Попытайся

```bash
git clone https://github.com/sergeynikol/CMS_django.git
cd django-cms-quickstart
docker compose build web
docker compose up -d database_default
docker compose run web python manage.py migrate
docker compose run web python manage.py createsuperuser
docker compose up -d
```

Затем откройте в браузере http://django-cms-quickstart.127.0.0.1.nip.io:8000 (или просто http://127.0.0.1:8000).

Примечание. Начиная с Compose V2, `docker-compose` теперь включен в docker. Для получения дополнительной информации ознакомьтесь с документацией [Compose V2](https://docs.docker.com/compose/cli-command/).

## Настройка проекта

Этот проект готов к работе без внесения каких-либо изменений, но также дает вам некоторые варианты.

Как есть, он будет включать ряд полезных плагинов django CMS и Bootstrap 5 для внешнего интерфейса. Вам не нужно использовать
эти; они необязательны. Если вы не хотите их использовать, прочитайте файлы `settings.py` и `requirements.txt`, чтобы
см. разделы, которые можно удалить — в каждом случае раздел отмечается комментарием, содержащим слово «необязательный».

Также доступны варианты для использования Postgres/MySQL, uWSGI/Gunicorn/Guvicorn и т. д.

#### Обновление требований

В проекте используется двухэтапный подход, замораживающий все зависимости с помощью pip-tools. Узнайте больше о том, как с этим справиться, здесь: https://blog.typodrive.com/2020/02/04/always-freeze-requirements-with-pip-compile-to-avoid-unpleasant-surprises/

## Функции

### Статические файлы с белым шумом

Эта демонстрация быстрого запуска содержит готовые к облаку статические файлы, настроенные с помощью django-whitenoise.

В контейнерном облаке приложение обслуживается не веб-сервером, таким как nginx, а напрямую через uwsgi. django-whitenoise — это клей, необходимый для обслуживания статических файлов в вашем приложении напрямую через uwsgi.

См. настройки django-whitenoise в settings.py и шаблон демонстрационной страницы `quickstart/templates/whitenoise-static-files-demo.html`, который обслуживает статический файл.


## Развертывание

Обратите внимание, что это всего лишь демонстрационный проект, который поможет вам начать работу. Если вам нужен полностью готовый сайт со всеми прибамбасами, мы рекомендуем вместо этого взглянуть на https://github.com/django-cms/djangocms-template.

#### Переменные окружения
- чтобы развернуть этот проект в тестовом режиме (рекомендуется), установите для переменной среды `DEBUG` значение `True` в вашей среде хостинга.
- Для производственной среды (если `DEBUG` имеет значение false) django требует, чтобы вы добавили домен в белый список. Установите env var `DOMAIN` на хост, то есть `www.domain.com` или `*.domain.com`.
- Если вы хотите, чтобы носитель размещался на S3, установите соответствующую переменную `DEFAULT_FILE_STORAGE`.

#### Команды развертывания
Настройте среду размещения для выполнения следующих команд при каждом развертывании:
- `./manage.py перенести`


#### Развертывание Дивио

divio.com — это платформа облачного хостинга, оптимизированная для веб-приложений django. Это самый быстрый способ развернуть этот проект. Вот [видеоурок](https://www.youtube.com/watch?v=O2g5Wfoyp7Q) и [описание шагов развертывания](https://github.com/django-cms/djangocms-template/ blob/mco-standalone/docs/deployment-divio.md#divio-project-setup), которые в основном применимы для этого краткого проекта.